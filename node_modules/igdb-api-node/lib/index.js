'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.config = undefined;

var _configuration = require('../configuration');

var _configuration2 = _interopRequireDefault(_configuration);

var _endpoints = require('./endpoints');

var _endpoints2 = _interopRequireDefault(_endpoints);

var _getImage = require('./get-image');

var _getImage2 = _interopRequireDefault(_getImage);

var _parseEndpoint = require('./parse-endpoint');

var _parseEndpoint2 = _interopRequireDefault(_parseEndpoint);

var _performRequest = require('./perform-request');

var _performRequest2 = _interopRequireDefault(_performRequest);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (apiKey) {
    return _endpoints2.default.reduce(function (endpointObj, endpoint) {
        if (!apiKey) {
            apiKey = process.env[_configuration2.default.api.globalProperty] || global[_configuration2.default.api.globalProperty] || '';
        }

        endpointObj[endpoint] = (0, _parseEndpoint2.default)(endpoint, apiKey);
        return endpointObj;
    }, {
        image: _getImage2.default,
        scroll: function scroll(url) {
            return (0, _performRequest2.default)(url, apiKey);
        }
    });
};

exports.config = _configuration2.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2pzL2luZGV4LmpzIl0sIm5hbWVzIjpbInJlZHVjZSIsImVuZHBvaW50T2JqIiwiZW5kcG9pbnQiLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiYXBpIiwiZ2xvYmFsUHJvcGVydHkiLCJnbG9iYWwiLCJpbWFnZSIsInNjcm9sbCIsInVybCIsImNvbmZpZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7OztrQkFPZTtBQUFBLFdBQVUsb0JBQVVBLE1BQVYsQ0FBaUIsVUFBQ0MsV0FBRCxFQUFjQyxRQUFkLEVBQTJCO0FBQ2pFLFlBQUksQ0FBQ0MsTUFBTCxFQUFhO0FBQ1RBLHFCQUFTQyxRQUFRQyxHQUFSLENBQVksd0JBQU9DLEdBQVAsQ0FBV0MsY0FBdkIsS0FBMENDLE9BQU8sd0JBQU9GLEdBQVAsQ0FBV0MsY0FBbEIsQ0FBMUMsSUFBK0UsRUFBeEY7QUFDSDs7QUFFRE4sb0JBQVlDLFFBQVosSUFBd0IsNkJBQWNBLFFBQWQsRUFBd0JDLE1BQXhCLENBQXhCO0FBQ0EsZUFBT0YsV0FBUDtBQUNILEtBUHdCLEVBT3RCO0FBQ0NRLGlDQUREO0FBRUNDLGdCQUFRO0FBQUEsbUJBQU8sOEJBQWVDLEdBQWYsRUFBb0JSLE1BQXBCLENBQVA7QUFBQTtBQUZULEtBUHNCLENBQVY7QUFBQSxDOztRQWFYUyxNIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50IG5vLXByb2Nlc3MtZW52OiAwICovXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IGVuZHBvaW50cyBmcm9tICcuL2VuZHBvaW50cyc7XG5pbXBvcnQgZ2V0SW1hZ2UgZnJvbSAnLi9nZXQtaW1hZ2UnO1xuaW1wb3J0IHBhcnNlRW5kcG9pbnQgZnJvbSAnLi9wYXJzZS1lbmRwb2ludCc7XG5pbXBvcnQgcGVyZm9ybVJlcXVlc3QgZnJvbSAnLi9wZXJmb3JtLXJlcXVlc3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgdGhlIElHREIgQVBJIG9iamVjdCwgcG9wdWxhdGVkIHdpdGggbWV0aG9kcyBmb3IgYWxsIGRlZmluZWQgZW5kcG9pbnRzLlxuICogQGFyZyB7c3RyaW5nfSBbYXBpS2V5XVxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXBpS2V5ID0+IGVuZHBvaW50cy5yZWR1Y2UoKGVuZHBvaW50T2JqLCBlbmRwb2ludCkgPT4ge1xuICAgIGlmICghYXBpS2V5KSB7XG4gICAgICAgIGFwaUtleSA9IHByb2Nlc3MuZW52W2NvbmZpZy5hcGkuZ2xvYmFsUHJvcGVydHldIHx8IGdsb2JhbFtjb25maWcuYXBpLmdsb2JhbFByb3BlcnR5XSB8fCAnJztcbiAgICB9XG5cbiAgICBlbmRwb2ludE9ialtlbmRwb2ludF0gPSBwYXJzZUVuZHBvaW50KGVuZHBvaW50LCBhcGlLZXkpO1xuICAgIHJldHVybiBlbmRwb2ludE9iajtcbn0sIHtcbiAgICBpbWFnZTogZ2V0SW1hZ2UsXG4gICAgc2Nyb2xsOiB1cmwgPT4gcGVyZm9ybVJlcXVlc3QodXJsLCBhcGlLZXkpXG59KTtcblxuZXhwb3J0IHtcbiAgICBjb25maWdcbn07XG4iXX0=